<!DOCTYPE html>
<html lang="es">
<head>
    <link rel="icon" href="path/to/your/CE.png" type="image/x-icon">
    <meta charset="UTF-8">
    <title>Calculadora de Mezcla de Líquidos y Conversores</title>
    <!-- Fuente de Google -->
    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;500;700&display=swap" rel="stylesheet">
    <!-- Iconos de Font Awesome -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">

    <style>
        /* Variables de Color */
        :root {
            --color-fondo: #f0f4f8; /* Azul muy claro */
            --color-principal: #0d47a1; /* Azul oscuro */
            --color-secundario: #1976d2; /* Azul medio */
            --color-acento: #42a5f5; /* Azul claro */
            --color-texto: #0d47a1;
            --color-error: #d32f2f;
            --color-exito: #388e3c;
            --color-borde: #90caf9;
            --color-boton-hover: #1565c0;
            --sombra: rgba(0, 0, 0, 0.1);
            --sombra-converter: rgba(0, 0, 0, 0.05);
        }

        /* Fuente y Colores Generales */
        body {
            font-family: 'Roboto', sans-serif;
            background-color: var(--color-fondo);
            margin: 0;
            padding: 0;
            color: var(--color-texto);
            line-height: 1.6;
            background-image: url('https://www.transparenttextures.com/patterns/geometry.png'); /* Patrón geométrico sutil */
            background-repeat: repeat;
        }

        h1, h2 {
            text-align: center;
            color: var(--color-principal);
            margin-bottom: 20px;
            position: relative;
        }

        h1::after, h2::after {
            content: '';
            display: block;
            width: 50px;
            height: 4px;
            background-color: var(--color-secundario);
            margin: 10px auto 0;
            border-radius: 2px;
        }

        /* Contenedor Principal */
        .container {
            background-color: #ffffff;
            padding: 40px;
            border-radius: 12px;
            max-width: 1200px; /* Aumentado para acomodar más contenido */
            margin: 60px auto;
            box-shadow: 0 8px 20px var(--sombra);
            border: 1px solid var(--color-borde);
        }

        /* Secciones de Selección y Conversores */
        .liquid-selection {
            display: flex;
            flex-direction: row;
            gap: 30px;
            flex-wrap: wrap;
            align-items: flex-start;
        }

        /* Subdivisiones Dentro de las Secciones */
        .liquid-selection .liquid-group {
            flex: 1 1 45%;
            display: flex;
            flex-direction: column;
        }

        /* Etiquetas */
        label {
            margin-bottom: 10px; /* Incrementado de 8px a 10px */
            color: var(--color-principal);
            font-weight: 500;
            font-size: 16px;
        }

        /* Contenedor para cada etiqueta y campo de entrada */
        .input-group {
            display: flex;
            flex-direction: column;
            margin-bottom: 30px; /* Incrementado de 20px a 30px para mayor espacio */
        }

        /* Campos de Selección e Ingreso */
        select, input {
            padding: 12px 18px;
            border: 1px solid var(--color-borde);
            border-radius: 6px;
            font-size: 16px;
            transition: border-color 0.3s, box-shadow 0.3s;
            width: 100%;
            box-sizing: border-box; /* Asegura que el padding no afecte el ancho total */
            height: 50px; /* Aumentado para mayor visibilidad */
        }

        select:focus, input:focus {
            border-color: var(--color-acento);
            outline: none;
            box-shadow: 0 0 8px rgba(66, 165, 245, 0.5);
        }

        /* Botones */
        button {
            background-color: var(--color-secundario);
            color: #ffffff;
            padding: 14px;
            border: none;
            border-radius: 6px;
            cursor: pointer;
            font-size: 16px;
            transition: background-color 0.3s, transform 0.2s;
            width: 100%;
            margin-top: 15px;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        button i {
            margin-right: 8px;
        }

        button:hover {
            background-color: var(--color-boton-hover);
            transform: translateY(-2px);
        }

        button:active {
            transform: translateY(0);
        }

        /* Resultados */
        .result {
            margin-top: 30px;
            padding: 25px;
            border-radius: 6px;
            font-size: 20px;
            text-align: center;
            transition: background-color 0.3s, color 0.3s, border 0.3s;
        }

        .result.success {
            background-color: #c8e6c9; /* Verde claro para éxito */
            color: var(--color-exito);
            border: 1px solid #a5d6a7;
        }

        .result.error {
            background-color: #ffcdd2; /* Rojo claro para errores */
            color: var(--color-error);
            border: 1px solid #ef9a9a;
        }

        /* Contenedor de Conversores */
        .converters-container {
            display: flex;
            flex-direction: row;
            gap: 30px;
            flex-wrap: wrap;
            margin-top: 50px;
            justify-content: space-between;
        }

        /* Conversores */
        .converter {
            background-color: var(--color-fondo);
            padding: 25px;
            border-radius: 8px;
            box-shadow: 0 4px 12px var(--sombra-converter);
            border: 1px solid var(--color-borde);
            flex: 1 1 30%; /* Ajustado para acomodar tres conversores */
            min-width: 280px; /* Asegura que no se encoja demasiado en pantallas pequeñas */
            box-sizing: border-box;
        }

        .converter h2 {
            color: var(--color-principal);
            margin-bottom: 20px;
            position: relative;
            padding-left: 25px;
        }

        .converter h2::before {
            content: '\f0c2'; /* Icono de fisico */
            font-family: 'Font Awesome 5 Free';
            font-weight: 900;
            position: absolute;
            left: 0;
            top: 0;
            font-size: 20px;
            color: var(--color-secundario);
        }

        .converter p {
            margin-top: 15px;
            font-weight: 600;
            color: var(--color-principal);
            font-size: 18px;
        }

        /* Responsividad */
        @media (max-width: 768px) {
            .liquid-selection {
                flex-direction: column;
            }

            .liquid-selection .liquid-group {
                width: 100%;
            }

            .converters-container {
                flex-direction: column;
            }

            .converter {
                flex: 1 1 100%;
            }
        }

        /* Mejoras Adicionales */
        /* Transiciones suaves para todos los elementos interactivos */
        a, button, input, select {
            transition: all 0.3s ease;
        }

        /* Hover en campos de entrada */
        input:hover, select:hover {
            border-color: var(--color-acento);
        }

        /* Botones con iconos */
        .btn-icon {
            display: flex;
            align-items: center;
            justify-content: center;
        }

        /* Estilos específicos para los selectores estándar */
        select {
            appearance: none;
            background-image: url('data:image/svg+xml;charset=UTF-8,<svg xmlns="http://www.w3.org/2000/svg" width="10" height="5" viewBox="0 0 10 5"><path fill="%230d47a1" d="M0 0l5 5 5-5z"/></svg>');
            background-repeat: no-repeat;
            background-position: right 10px center;
            background-size: 10px 5px;
        }

        /* Eliminar cualquier estilo residual de Select2 */
    </style>
</head>
<body>

    <h1><i class="fas fa-flask"></i> Calculadora de Mezcla de Líquidos y Conversores</h1>
    <div class="container">
        <!-- Calculadora de Mezcla de Líquidos -->
        <div class="liquid-selection">
            <div class="liquid-group">
                <div class="input-group">
                    <label for="liquid1">Líquido 1:</label>
                    <select id="liquid1">
                        <option value="" disabled selected>Selecciona un líquido</option>
                    </select>
                </div>

                <div class="input-group">
                    <label for="mass1">Masa del Líquido 1 (kg):</label>
                    <input type="number" id="mass1" placeholder="Ejemplo: 90" min="0" step="any">
                </div>

                <div class="input-group">
                    <label for="temp1">Temperatura Inicial del Líquido 1 (°C):</label>
                    <input type="number" id="temp1" placeholder="Ejemplo: 60" step="any">
                </div>
            </div>

            <div class="liquid-group">
                <div class="input-group">
                    <label for="liquid2">Líquido 2:</label>
                    <select id="liquid2">
                        <option value="" disabled selected>Selecciona un líquido</option>
                    </select>
                </div>

                <div class="input-group">
                    <label for="mass2">Masa del Líquido 2 (kg):</label>
                    <input type="number" id="mass2" placeholder="Ejemplo: 40" min="0" step="any">
                </div>

                <div class="input-group">
                    <label for="temp2">Temperatura Inicial del Líquido 2 (°C):</label>
                    <input type="number" id="temp2" placeholder="Ejemplo: 10" step="any">
                </div>
            </div>
        </div>

        <button onclick="calculateFinalTemperature()" class="btn-icon"><i class="fas fa-calculator"></i> Calcular Temperatura Final</button>

        <div id="result" class="result" style="display: none;"></div>

        <!-- Contenedor de Conversores -->
        <div class="converters-container">
            <!-- Conversor de Unidades de Masa -->
            <div class="converter">
                <h2>Conversor de Unidades de Masa</h2>
                <div class="input-group">
                    <label for="massInput">Cantidad:</label>
                    <input type="number" id="massInput" placeholder="Ingresa la cantidad" min="0" step="any">
                </div>
                
                <div class="input-group">
                    <label for="massFrom">Desde:</label>
                    <select id="massFrom">
                        <option value="" disabled selected>Selecciona la unidad de origen</option>
                        <option value="mg">Miligramos (mg)</option>
                        <option value="g">Gramos (g)</option>
                        <option value="kg">Kilogramos (kg)</option>
                        <option value="t">Toneladas métricas (t)</option>
                        <option value="lb">Libras (lb)</option>
                        <option value="oz">Onzas (oz)</option>
                        <option value="st">Stones (st)</option>
                    </select>
                </div>

                <div class="input-group">
                    <label for="massTo">Hasta:</label>
                    <select id="massTo">
                        <option value="" disabled selected>Selecciona la unidad de destino</option>
                        <option value="mg">Miligramos (mg)</option>
                        <option value="g">Gramos (g)</option>
                        <option value="kg">Kilogramos (kg)</option>
                        <option value="t">Toneladas métricas (t)</option>
                        <option value="lb">Libras (lb)</option>
                        <option value="oz">Onzas (oz)</option>
                        <option value="st">Stones (st)</option>
                    </select>
                </div>
                
                <button onclick="convertMass()" class="btn-icon"><i class="fas fa-exchange-alt"></i> Convertir Masa</button>
                <p>Resultado: <span id="massResult">0</span></p>
            </div>

            <!-- Conversor de Temperaturas -->
            <div class="converter">
                <h2>Conversor de Temperaturas</h2>
                <div class="input-group">
                    <label for="tempInput">Temperatura:</label>
                    <input type="number" id="tempInput" placeholder="Ingresa la temperatura" step="any">
                </div>
                
                <div class="input-group">
                    <label for="tempFrom">Desde:</label>
                    <select id="tempFrom">
                        <option value="" disabled selected>Selecciona la escala de origen</option>
                        <option value="C">Celsius (°C)</option>
                        <option value="K">Kelvin (K)</option>
                        <option value="F">Fahrenheit (°F)</option>
                        <option value="R">Rankine (°R)</option>
                    </select>
                </div>

                <div class="input-group">
                    <label for="tempTo">Hasta:</label>
                    <select id="tempTo">
                        <option value="" disabled selected>Selecciona la escala de destino</option>
                        <option value="C">Celsius (°C)</option>
                        <option value="K">Kelvin (K)</option>
                        <option value="F">Fahrenheit (°F)</option>
                        <option value="R">Rankine (°R)</option>
                    </select>
                </div>
                
                <button onclick="convertTemperature()" class="btn-icon"><i class="fas fa-temperature-high"></i> Convertir Temperatura</button>
                <p>Resultado: <span id="tempResult">0</span></p>
            </div>

            <!-- Conversor de Unidades de Volumen -->
            <div class="converter">
                <h2>Conversor de Unidades de Volumen</h2>
                <div class="input-group">
                    <label for="volumeInput">Cantidad:</label>
                    <input type="number" id="volumeInput" placeholder="Ingresa la cantidad" min="0" step="any">
                </div>
                
                <div class="input-group">
                    <label for="volumeFrom">Desde:</label>
                    <select id="volumeFrom">
                        <option value="" disabled selected>Selecciona la unidad de origen</option>
                        <option value="ml">Mililitros (ml)</option>
                        <option value="l">Litros (l)</option>
                        <option value="m3">Metros cúbicos (m³)</option>
                        <option value="tsp">Cucharaditas (tsp)</option>
                        <option value="tbsp">Cucharadas (tbsp)</option>
                        <option value="fl oz">Onzas líquidas (fl oz)</option>
                        <option value="cup">Tazas (cup)</option>
                        <option value="pt">Pintas (pt)</option>
                        <option value="qt">Cuartos (qt)</option>
                        <option value="gal">Galones (gal)</option>
                        <option value="cubic_in">Pulgadas cúbicas (in³)</option>
                        <option value="cubic_ft">Pies cúbicos (ft³)</option>
                    </select>
                </div>

                <div class="input-group">
                    <label for="volumeTo">Hasta:</label>
                    <select id="volumeTo">
                        <option value="" disabled selected>Selecciona la unidad de destino</option>
                        <option value="ml">Mililitros (ml)</option>
                        <option value="l">Litros (l)</option>
                        <option value="m3">Metros cúbicos (m³)</option>
                        <option value="tsp">Cucharaditas (tsp)</option>
                        <option value="tbsp">Cucharadas (tbsp)</option>
                        <option value="fl oz">Onzas líquidas (fl oz)</option>
                        <option value="cup">Tazas (cup)</option>
                        <option value="pt">Pintas (pt)</option>
                        <option value="qt">Cuartos (qt)</option>
                        <option value="gal">Galones (gal)</option>
                        <option value="cubic_in">Pulgadas cúbicas (in³)</option>
                        <option value="cubic_ft">Pies cúbicos (ft³)</option>
                    </select>
                </div>
                
                <button onclick="convertVolume()" class="btn-icon"><i class="fas fa-exchange-alt"></i> Convertir Volumen</button>
                <p>Resultado: <span id="volumeResult">0</span></p>
            </div>
        </div>
    </div>

    <!-- Icono de Font Awesome para Física -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/js/all.min.js" integrity="sha512-i8F6DABTuzk+0D6f/VtuBci1rBXVQdR1E7u09IytRShhWufFBSZjdRgX2JAFJWeEF5j6rUBqJkHk3m+XGqDgog==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
    <!-- jQuery -->
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <!-- Select2 JS Eliminado -->

    <script>
        // Lista de líquidos con sus capacidades caloríficas específicas (kJ/kg·°C)
        const liquids = [
            // 1. Agua y Soluciones Acuosas
            { id: 1, name: "Agua destilada", c: 4.18 },
            { id: 2, name: "Agua de mar", c: 3.99 },
            { id: 3, name: "Agua mineral", c: 4.18 },
            { id: 4, name: "Agua oxigenada (peróxido de hidrógeno)", c: 2.19 },
            { id: 5, name: "Solución salina (agua con NaCl)", c: 3.85 },
            { id: 6, name: "Solución de azúcar (jarabe)", c: 3.90 },
            { id: 7, name: "Jugo de naranja", c: 3.80 },
            { id: 8, name: "Leche", c: 3.93 },
            { id: 9, name: "Vino", c: 3.70 },
            { id: 10, name: "Cerveza", c: 3.60 },
            { id: 11, name: "Líquido de limpieza a base de agua", c: 4.00 },
            { id: 12, name: "Té", c: 4.00 },
            { id: 13, name: "Café", c: 4.00 },
            { id: 14, name: "Solución de ácido clorhídrico diluido", c: 4.00 },
            { id: 15, name: "Solución de hidróxido de sodio diluido", c: 4.00 },
            { id: 16, name: "Agua destilada con glicerol", c: 3.50 },
            { id: 17, name: "Solución de amoníaco", c: 4.20 },
            { id: 18, name: "Bebida isotónica", c: 3.80 },
            { id: 19, name: "Agua destilada con etanol", c: 3.90 },
            { id: 20, name: "Agua destilada con sales minerales", c: 3.85 },
            { id: 21, name: "Solución de bicarbonato de sodio", c: 3.80 },
            { id: 22, name: "Vinagre (ácido acético diluido)", c: 2.11 },
            { id: 23, name: "Agua con gas (agua carbonatada)", c: 4.00 },
            { id: 24, name: "Agua con EDTA (agente quelante)", c: 4.00 },
            { id: 25, name: "Solución de amonio cuaternario", c: 3.90 },
            { id: 26, name: "Agua destilada con sal gemela (MgCl₂)", c: 4.00 },
            { id: 27, name: "Sirope de maíz", c: 3.90 },
            { id: 28, name: "Agua destilada con ácido cítrico", c: 3.80 },
            { id: 29, name: "Solución de ácido láctico", c: 3.70 },
            { id: 30, name: "Agua destilada con ácido tartárico", c: 3.80 },

            // 2. Solventes Orgánicos
            { id: 31, name: "Alcohol etílico (etanol)", c: 2.44 },
            { id: 32, name: "Alcohol isopropílico", c: 2.60 },
            { id: 33, name: "Acetona", c: 2.11 },
            { id: 34, name: "Metanol", c: 2.53 },
            { id: 35, name: "Benceno", c: 1.74 },
            { id: 36, name: "Tolueno", c: 1.71 },
            { id: 37, name: "Xileno", c: 1.72 },
            { id: 38, name: "Éter dietílico", c: 3.00 },
            { id: 39, name: "Cloroformo", c: 0.96 },
            { id: 40, name: "Acetonitrilo", c: 2.30 },
            { id: 41, name: "Dimetil sulfóxido (DMSO)", c: 2.50 },
            { id: 42, name: "N,N-Dimetilformamida (DMF)", c: 2.30 },
            { id: 43, name: "N,N-Dimetilacetamida (DMAc)", c: 2.34 },
            { id: 44, name: "Hexano", c: 2.20 },
            { id: 45, name: "Heptano", c: 2.05 },
            { id: 46, name: "Octano", c: 2.10 },
            { id: 47, name: "Nonano", c: 1.85 },
            { id: 48, name: "Decano", c: 1.80 },
            { id: 49, name: "Éter etílico", c: 3.00 },
            { id: 50, name: "Dioxano", c: 2.00 },
            { id: 51, name: "Tetrahydrofuran (THF)", c: 2.20 },
            { id: 52, name: "Acetato de etilo", c: 2.11 },
            { id: 53, name: "Éter metílico", c: 3.00 },
            { id: 54, name: "Cloroetano", c: 1.70 },
            { id: 55, name: "N-Metil-2-pirrolidona (NMP)", c: 2.30 },
            { id: 56, name: "Bencodiol", c: 2.40 },
            { id: 57, name: "Trietanolamina", c: 2.10 },
            { id: 58, name: "Etilenglicol", c: 2.30 },
            { id: 59, name: "Nitrato de celulosa", c: 2.00 }, // Asignado un valor aproximado
            { id: 60, name: "Cyclohexano", c: 2.20 },
            { id: 61, name: "Cyclohexanol", c: 2.10 },
            { id: 62, name: "Cyclopentanol", c: 2.10 },

            // 3. Aceites y Grasas
            { id: 63, name: "Aceite de oliva", c: 2.00 },
            { id: 64, name: "Aceite vegetal", c: 2.00 },
            { id: 65, name: "Aceite de canola", c: 2.00 },
            { id: 66, name: "Aceite de girasol", c: 2.00 },
            { id: 67, name: "Aceite de coco", c: 1.99 },
            { id: 68, name: "Aceite de almendra", c: 2.00 },
            { id: 69, name: "Aceite de sésamo", c: 2.00 },
            { id: 70, name: "Aceite de jojoba", c: 2.00 },
            { id: 71, name: "Aceite de ricino", c: 2.00 },
            { id: 72, name: "Aceite de linaza", c: 2.00 },
            { id: 73, name: "Aceite de palma", c: 1.90 },
            { id: 74, name: "Aceite de aguacate", c: 2.00 },
            { id: 75, name: "Aceite de nuez", c: 2.00 },
            { id: 76, name: "Aceite de maíz", c: 2.00 },
            { id: 77, name: "Aceite de soja", c: 2.00 },
            { id: 78, name: "Aceite de argán", c: 2.00 },
            { id: 79, name: "Aceite de semilla de uva", c: 2.00 },
            { id: 80, name: "Aceite de neem", c: 1.90 },
            { id: 81, name: "Aceite de coco fraccionado", c: 2.00 },
            { id: 82, name: "Aceite de tung", c: 2.00 }, // Añadido según lista

            // 4. Ácidos y Bases
            { id: 83, name: "Ácido sulfúrico", c: 1.38 },
            { id: 84, name: "Ácido nítrico", c: 1.46 },
            { id: 85, name: "Ácido acético", c: 2.11 },
            { id: 86, name: "Ácido cítrico", c: 1.80 },
            { id: 87, name: "Ácido fosfórico", c: 2.36 },
            { id: 88, name: "Ácido clorhídrico", c: 4.00 },
            { id: 89, name: "Ácido bórico", c: 2.39 },
            { id: 90, name: "Hidróxido de sodio (sosa cáustica)", c: 4.00 },
            { id: 91, name: "Hidróxido de potasio", c: 4.00 },
            { id: 92, name: "Hidróxido de calcio", c: 4.00 },
            { id: 93, name: "Ácido fórmico", c: 2.50 },
            { id: 94, name: "Ácido láctico", c: 3.70 },
            { id: 95, name: "Ácido tartárico", c: 3.80 },
            { id: 96, name: "Ácido ascorbico (vitamina C)", c: 3.90 },
            { id: 97, name: "Hidróxido de amonio", c: 4.00 },

            // 5. Alcoholes y Otros Compuestos Orgánicos
            { id: 98, name: "Glicerol (glicerina)", c: 2.43 },
            { id: 99, name: "Propilenglicol", c: 2.20 },
            { id: 100, name: "Butanol", c: 2.38 },
            { id: 101, name: "Pentanol", c: 2.20 },
            { id: 102, name: "Hexanol", c: 2.10 },
            { id: 103, name: "Isobutanol", c: 2.20 },
            { id: 104, name: "Butanona (metiletilcetona)", c: 2.16 },
            { id: 105, name: "Fenol", c: 1.94 },
            { id: 106, name: "Butilenglicol", c: 2.00 },
            { id: 107, name: "Trietanolamina", c: 2.10 },
            { id: 108, name: "Etilenglicol", c: 2.30 },
            { id: 109, name: "Bencodiol", c: 2.40 },
            { id: 110, name: "N,N-Dimetilacetamida (DMAc)", c: 2.34 },
            { id: 111, name: "N,N-Dimetilformamida (DMF)", c: 2.30 },
            { id: 112, name: "Tetrahydrofuran (THF)", c: 2.20 },
            { id: 113, name: "Glicerina vegetal", c: 2.60 },
            { id: 114, name: "Glicerina sintética", c: 2.43 },
            { id: 115, name: "Sorbitol", c: 2.60 },
            { id: 116, name: "Propanol", c: 2.50 },
            { id: 117, name: "Isopentanol", c: 2.20 },
            { id: 118, name: "Hexan-1-ol", c: 2.10 },
            { id: 119, name: "Cyclopentanol", c: 2.10 },
            { id: 120, name: "Cyclohexanol", c: 2.10 },
            { id: 121, name: "Tetrahydrofurfuryl alcohol", c: 2.50 },

            // 6. Hidrocarburos
            { id: 122, name: "Gasolina", c: 2.22 },
            { id: 123, name: "Diésel", c: 2.12 },
            { id: 124, name: "Queroseno", c: 2.15 },
            { id: 125, name: "Aceite de motor", c: 2.10 },
            { id: 126, name: "Aceite de parafina", c: 2.00 },
            { id: 127, name: "Nafta", c: 2.25 },
            { id: 128, name: "Disolvente para pinturas", c: 2.00 },
            { id: 129, name: "Aceite de petróleo", c: 2.00 },
            { id: 130, name: "Aceite mineral", c: 2.00 },
            { id: 131, name: "Aceite de silicona", c: 1.36 },
            { id: 132, name: "Lubricante para maquinaria", c: 2.00 },
            { id: 133, name: "Aceite de vaselina", c: 2.00 },
            { id: 134, name: "Aceite de teflón", c: 1.80 },
            { id: 135, name: "Aceite de fractura", c: 2.00 },
            { id: 136, name: "Aceite de transformación", c: 2.00 },
            { id: 137, name: "Propano", c: 1.50 },
            { id: 138, name: "Butano", c: 1.70 },
            { id: 139, name: "Estireno", c: 1.80 },
            { id: 140, name: "Tetrahidrofurano", c: 2.20 }, // Corrección de nombre
            { id: 141, name: "Cyclohexano", c: 2.20 },
            { id: 142, name: "Heptano", c: 2.05 },
            { id: 143, name: "Hexacloropenteno", c: 1.85 }, // Asignado un valor aproximado
            { id: 144, name: "Pentaclorofenol", c: 1.90 }, // Asignado un valor aproximado
            { id: 145, name: "Benceno clorado", c: 1.74 }, // Asignado un valor aproximado
            { id: 146, name: "Tricloroetileno", c: 1.60 }, // Asignado un valor aproximado
            { id: 147, name: "Cyclohexano", c: 2.20 }, // Añadido según lista
            { id: 148, name: "Nona", c: 1.80 }, // Asignado un valor aproximado
            { id: 149, name: "Decano", c: 1.80 }, // Asignado un valor aproximado
            { id: 150, name: "Etilbenceno", c: 1.70 } // Asignado un valor aproximado
        ];

        // Eliminar duplicados basados en el nombre del líquido
        const uniqueLiquidsMap = new Map();
        liquids.forEach(item => {
            if (!uniqueLiquidsMap.has(item.name)) {
                uniqueLiquidsMap.set(item.name, item);
            }
        });
        const uniqueLiquids = Array.from(uniqueLiquidsMap.values());

        // Verificar que tenemos exactamente 150 líquidos únicos
        console.log(`Total de líquidos únicos: ${uniqueLiquids.length}`); // Para depuración

        // Lista de pares incompatibles (solo con los 150 líquidos)
        const incompatiblePairs = [
            // Agua y Aceites/Grasas
            ["Agua destilada", "Aceite de oliva"],
            ["Agua destilada", "Aceite vegetal"],
            ["Agua destilada", "Aceite de canola"],
            ["Agua destilada", "Aceite de girasol"],
            ["Agua destilada", "Aceite de coco"],
            ["Agua destilada", "Aceite de almendra"],
            ["Agua destilada", "Aceite de sésamo"],
            ["Agua destilada", "Aceite de jojoba"],
            ["Agua destilada", "Aceite de ricino"],
            ["Agua destilada", "Aceite de linaza"],
            ["Agua destilada", "Aceite de palma"],
            ["Agua destilada", "Aceite de aguacate"],
            ["Agua destilada", "Aceite de nuez"],
            ["Agua destilada", "Aceite de maíz"],
            ["Agua destilada", "Aceite de soja"],
            ["Agua destilada", "Aceite de silicona"],
            ["Agua mineral", "Aceite de oliva"],
            ["Agua mineral", "Aceite de motor"],
            ["Solución salina", "Aceite de parafina"],
            ["Solución salina", "Aceite de silicona"],

            // Solventes Orgánicos con Hidrocarburos
            ["Benceno", "Gasolina"],
            ["Benceno", "Nafta"],
            ["Tolueno", "Diésel"],
            ["Tolueno", "Queroseno"],
            ["Xileno", "Queroseno"],
            ["Xileno", "Nafta"],
            ["Metanol", "Gasolina"],
            ["Metanol", "Diésel"],
            ["Acetona", "Nafta"],
            ["Acetona", "Aceite de transformación"],
            ["Cloroformo", "Aceite de silicona"],
            ["Cloroformo", "Aceite de teflón"],
            ["Dimetilformamida (DMF)", "Aceite de transformación"],
            ["N,N-Dimetilformamida (DMF)", "Aceite de transformación"],
            ["N,N-Dimetilformamida (DMF)", "Aceite de linaza"],
            ["N,N-Dimetilformamida (DMF)", "Aceite de transformación"],

            // Ácidos y Bases con Aceites y Solventes
            ["Ácido sulfúrico", "Aceite de silicona"],
            ["Ácido sulfúrico", "Aceite de parafina"],
            ["Ácido nítrico", "Aceite de palma"],
            ["Ácido nítrico", "Aceite de coco"],
            ["Ácido clorhídrico", "Glicerol"],
            ["Ácido clorhídrico", "Aceite de silicona"],
            ["Hidróxido de sodio (sosa cáustica)", "Aceite de coco"],
            ["Hidróxido de sodio (sosa cáustica)", "Aceite de transformación"],
            ["Hidróxido de potasio", "Aceite de sésamo"],
            ["Hidróxido de potasio", "Aceite de ricino"],
            ["Hidróxido de potasio", "Líquido refrigerante de PC"],
            ["Hidróxido de sodio (sosa cáustica)", "Líquido dieléctrico"],
            ["Ácido fosfórico", "Aceite de palma"],
            ["Fenol", "Aceite de parafina"],
            ["Trietanolamina", "Cloroformo"],

            // Inflamables con Oxidantes
            ["Alcohol etílico (etanol)", "Agua oxigenada (peróxido de hidrógeno)"],
            ["Alcohol isopropílico", "Agua oxigenada (peróxido de hidrógeno)"],

            // Mezclas y Soluciones Incompatibles
            ["Agua destilada con etanol", "Aceite de oliva"],
            ["Agua destilada con glicerol", "Aceite de girasol"],
            ["Agua destilada con etanol", "Aceite de sésamo"],
            ["Agua destilada con glicerol", "Aceite de ricino"],
            ["Agua destilada con etanol", "Aceite de linaza"],
            ["Agua destilada con glicerol", "Aceite de parafina"],
            ["Agua destilada con etanol", "Aceite de transformación"],
            ["Agua destilada con glicerol", "Aceite de transformación"],

            // Otros Pares Incompatibles
            ["Aceite de jojoba", "Solución de amoníaco"],
            ["Aceite de jojoba", "Ácido nítrico"],
            ["Cloroformo", "Acetona"],
            ["Cloroformo", "Tetrahydrofurfuryl alcohol"],
            ["Ácido clorhídrico", "Glicerina sintética"],
            ["Peróxido de hidrógeno", "Aceite de sésamo"],
            ["Peróxido de hidrógeno", "Aceite de transformación"],
            ["Aceite de parafina", "Peróxido de hidrógeno"],
            ["Aceite de parafina", "Trietanolamina"],
            ["Dimetilformamida (DMF)", "Aceite de sésamo"],
            ["N,N-Dimetilacetamida (DMAc)", "Ácido nítrico"],
            ["N,N-Dimetilformamida (DMF)", "Líquido refrigerante industrial"],
            ["Trietanolamina", "Líquido dieléctrico"],
            ["Trietanolamina", "Líquido refrigerante de PC"],
            ["Trietanolamina", "Líquido refrigerante de baja temperatura"],
            ["Peróxido de hidrógeno", "Líquido refrigerante de baja temperatura"],
            ["Peróxido de hidrógeno", "Líquido dieléctrico"],
            ["Ácido clorhídrico", "Líquido refrigerante industrial"],
            ["Trietanolamina", "Cloroformo"]
            // Se han eliminado todas las referencias a "Aceite de menta"
        ];

        // Crear un objeto para pares incompatibles para búsqueda más rápida
        const incompatibleSet = new Set();
        incompatiblePairs.forEach(pair => {
            const [liquidA, liquidB] = pair;
            // Crear una clave única para cada par independientemente del orden
            const key1 = `${liquidA}|||${liquidB}`;
            const key2 = `${liquidB}|||${liquidA}`;
            incompatibleSet.add(key1);
            incompatibleSet.add(key2);
        });

        // Función para cargar los líquidos en los select
        function loadLiquids() {
            const liquid1 = document.getElementById('liquid1');
            const liquid2 = document.getElementById('liquid2');

            // Ordenar los líquidos alfabéticamente por nombre
            const sortedLiquids = uniqueLiquids.sort((a, b) => a.name.localeCompare(b.name));

            sortedLiquids.forEach(liquid => {
                const option1 = document.createElement('option');
                option1.value = liquid.id;
                option1.text = liquid.name;
                liquid1.add(option1);

                const option2 = document.createElement('option');
                option2.value = liquid.id;
                option2.text = liquid.name;
                liquid2.add(option2);
            });

            // Ya no se utiliza Select2, así que no hay inicialización necesaria
        }

        // Función para verificar compatibilidad
        function areCompatible(liquidA, liquidB) {
            // Si ambos líquidos son iguales, son compatibles
            if (liquidA === liquidB) {
                return true;
            }

            const key = `${liquidA}|||${liquidB}`;
            return !incompatibleSet.has(key);
        }

        // Función para obtener el nombre de un líquido por su ID
        function getLiquidNameById(id) {
            const liquid = uniqueLiquids.find(l => l.id == id);
            return liquid ? liquid.name : "";
        }

        // Función para obtener la capacidad calorífica de un líquido por su ID
        function getSpecificHeatById(id) {
            const liquid = uniqueLiquids.find(l => l.id == id);
            return liquid ? liquid.c : 0;
        }

        // Función principal para calcular la temperatura final
        function calculateFinalTemperature() {
            const liquid1Id = document.getElementById('liquid1').value;
            const liquid2Id = document.getElementById('liquid2').value;
            const mass1 = parseFloat(document.getElementById('mass1').value);
            const mass2 = parseFloat(document.getElementById('mass2').value);
            const temp1 = parseFloat(document.getElementById('temp1').value);
            const temp2 = parseFloat(document.getElementById('temp2').value);
            const resultDiv = document.getElementById('result');

            // Validaciones básicas
            if (!liquid1Id || !liquid2Id) {
                resultDiv.style.display = 'block';
                resultDiv.className = 'result error';
                resultDiv.innerHTML = "Por favor, selecciona ambos líquidos.";
                return;
            }

            if (isNaN(mass1) || isNaN(mass2) || isNaN(temp1) || isNaN(temp2)) {
                resultDiv.style.display = 'block';
                resultDiv.className = 'result error';
                resultDiv.innerHTML = "Por favor, ingresa todas las masas y temperaturas iniciales.";
                return;
            }

            if (mass1 <= 0 || mass2 <= 0) {
                resultDiv.style.display = 'block';
                resultDiv.className = 'result error';
                resultDiv.innerHTML = "Las masas deben ser mayores que cero.";
                return;
            }

            // Obtener nombres de líquidos
            const liquid1Name = getLiquidNameById(liquid1Id);
            const liquid2Name = getLiquidNameById(liquid2Id);

            // Verificar compatibilidad
            if (!areCompatible(liquid1Name, liquid2Name)) {
                resultDiv.style.display = 'block';
                resultDiv.className = 'result error';
                resultDiv.innerHTML = `Los líquidos <strong>${liquid1Name}</strong> y <strong>${liquid2Name}</strong> no son compatibles para mezclarse.`;
                return;
            }

            // Obtener capacidades caloríficas
            const c1 = getSpecificHeatById(liquid1Id);
            const c2 = getSpecificHeatById(liquid2Id);

            // Verificar que las capacidades caloríficas sean válidas
            if (c1 === 0 || c2 === 0) {
                resultDiv.style.display = 'block';
                resultDiv.className = 'result error';
                resultDiv.innerHTML = "No se pudo determinar la capacidad calorífica de uno o ambos líquidos seleccionados.";
                return;
            }

            // Calcular temperatura final
            const numerator = (mass1 * c1 * temp1) + (mass2 * c2 * temp2);
            const denominator = (mass1 * c1) + (mass2 * c2);
            const Tf = numerator / denominator;

            // Mostrar resultado
            resultDiv.style.display = 'block';
            resultDiv.className = 'result success';
            resultDiv.innerHTML = `La temperatura final de la mezcla es aproximadamente <strong>${Tf.toFixed(2)}°C</strong>.`;
        }

        // Función para convertir unidades de masa
        function convertMass() {
            const massInput = parseFloat(document.getElementById('massInput').value);
            const massFrom = document.getElementById('massFrom').value;
            const massTo = document.getElementById('massTo').value;
            const resultSpan = document.getElementById('massResult');

            // Validaciones básicas
            if (isNaN(massInput)) {
                alert("Por favor, ingresa una cantidad válida.");
                return;
            }

            if (!massFrom || !massTo) {
                alert("Por favor, selecciona tanto la unidad de origen como la de destino.");
                return;
            }

            if (massFrom === massTo) {
                alert("Las unidades de origen y destino deben ser diferentes.");
                return;
            }

            // Tabla de conversión a gramos
            const conversionRates = {
                mg: 0.001,        // Miligramos a gramos
                g: 1,             // Gramos a gramos
                kg: 1000,         // Kilogramos a gramos
                t: 1000000,       // Toneladas métricas a gramos
                lb: 453.592,      // Libras a gramos
                oz: 28.3495,      // Onzas a gramos
                st: 6350.29       // Stones a gramos
            };

            // Convertir la cantidad a gramos
            const grams = massInput * conversionRates[massFrom];

            // Convertir los gramos a la unidad de destino
            const convertedMass = grams / conversionRates[massTo];

            // Mostrar resultado con la unidad correspondiente
            const unitLabels = {
                mg: "mg",
                g: "g",
                kg: "kg",
                t: "t",
                lb: "lb",
                oz: "oz",
                st: "st"
            };

            resultSpan.textContent = `${convertedMass.toFixed(4)} ${unitLabels[massTo]}`;
        }

        // Función para convertir temperaturas
        function convertTemperature() {
            const tempInput = parseFloat(document.getElementById('tempInput').value);
            const tempFrom = document.getElementById('tempFrom').value;
            const tempTo = document.getElementById('tempTo').value;
            const resultSpan = document.getElementById('tempResult');

            // Validaciones básicas
            if (isNaN(tempInput)) {
                alert("Por favor, ingresa un valor de temperatura válido.");
                return;
            }

            if (!tempFrom || !tempTo) {
                alert("Por favor, selecciona tanto la escala de origen como la de destino.");
                return;
            }

            if (tempFrom === tempTo) {
                alert("Las escalas de origen y destino deben ser diferentes.");
                return;
            }

            // Convertir la temperatura de origen a Celsius
            let tempInCelsius;
            switch(tempFrom) {
                case 'C':
                    tempInCelsius = tempInput;
                    break;
                case 'K':
                    tempInCelsius = tempInput - 273.15;
                    break;
                case 'F':
                    tempInCelsius = (tempInput - 32) * (5/9);
                    break;
                case 'R':
                    tempInCelsius = (tempInput - 491.67) * (5/9);
                    break;
                default:
                    alert("Escala de temperatura de origen no válida.");
                    return;
            }

            // Convertir la temperatura en Celsius a la escala de destino
            let finalTemp;
            switch(tempTo) {
                case 'C':
                    finalTemp = tempInCelsius;
                    break;
                case 'K':
                    finalTemp = tempInCelsius + 273.15;
                    break;
                case 'F':
                    finalTemp = (tempInCelsius * (9/5)) + 32;
                    break;
                case 'R':
                    finalTemp = (tempInCelsius + 273.15) * (9/5);
                    break;
                default:
                    alert("Escala de temperatura de destino no válida.");
                    return;
            }

            // Mostrar resultado
            resultSpan.textContent = `${finalTemp.toFixed(2)} °${tempTo}`;
        }

        // Función para convertir unidades de volumen
        function convertVolume() {
            const volumeInput = parseFloat(document.getElementById('volumeInput').value);
            const volumeFrom = document.getElementById('volumeFrom').value;
            const volumeTo = document.getElementById('volumeTo').value;
            const resultSpan = document.getElementById('volumeResult');

            // Validaciones básicas
            if (isNaN(volumeInput)) {
                alert("Por favor, ingresa una cantidad válida.");
                return;
            }

            if (!volumeFrom || !volumeTo) {
                alert("Por favor, selecciona tanto la unidad de origen como la de destino.");
                return;
            }

            if (volumeFrom === volumeTo) {
                alert("Las unidades de origen y destino deben ser diferentes.");
                return;
            }

            // Tabla de conversión a litros
            const conversionRates = {
                ml: 0.001,          // Mililitros a litros
                l: 1,               // Litros a litros
                m3: 1000,           // Metros cúbicos a litros
                tsp: 0.00492892,    // Cucharaditas a litros
                tbsp: 0.0147868,    // Cucharadas a litros
                "fl oz": 0.0295735, // Onzas líquidas a litros
                cup: 0.24,          // Tazas a litros
                pt: 0.473176,       // Pintas a litros
                qt: 0.946353,       // Cuartos a litros
                gal: 3.78541,       // Galones a litros
                cubic_in: 0.0163871,// Pulgadas cúbicas a litros
                cubic_ft: 28.3168    // Pies cúbicos a litros
            };

            // Convertir la cantidad a litros
            const liters = volumeInput * conversionRates[volumeFrom];

            // Convertir los litros a la unidad de destino
            const convertedVolume = liters / conversionRates[volumeTo];

            // Mostrar resultado con la unidad correspondiente
            const unitLabels = {
                ml: "ml",
                l: "l",
                m3: "m³",
                tsp: "tsp",
                tbsp: "tbsp",
                "fl oz": "fl oz",
                cup: "cup",
                pt: "pt",
                qt: "qt",
                gal: "gal",
                cubic_in: "in³",
                cubic_ft: "ft³"
            };

            resultSpan.textContent = `${convertedVolume.toFixed(4)} ${unitLabels[volumeTo]}`;
        }

        // ----- Script de Verificación -----
        // Obtener todos los nombres de los 150 líquidos
        const liquidNames = new Set(liquids.map(liquid => liquid.name));

        // Identificar pares que contienen líquidos no definidos
        const invalidPairs = incompatiblePairs.filter(pair => {
            return !liquidNames.has(pair[0]) || !liquidNames.has(pair[1]);
        });

        // Mostrar resultados de la verificación
        if (invalidPairs.length === 0) {
            console.log("Todos los pares incompatibles están dentro de los 150 líquidos definidos.");
        } else {
            console.error("Se encontraron pares incompatibles con líquidos no definidos:");
            console.table(invalidPairs);
        }
        // ----- Fin del Script de Verificación -----

        // Llamar a la función al cargar la página
        window.onload = loadLiquids;
    </script>

</body>
</html>
